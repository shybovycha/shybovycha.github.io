<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.0.3"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://shybovycha.github.io/2015/08/30/2015-08-29-prepare-to-add-some-newtonianity.html/"><!-- Primary Meta Tags --><title>Irrlicht Newton GD tutorial: prepare to add some Newtonianity</title><meta name="title" content="Irrlicht Newton GD tutorial: prepare to add some Newtonianity"><meta name="description"><link rel="stylesheet" href="/_astro/index.BvFNhZYw.css">
<style>footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em;background:linear-gradient(var(--gray-gradient)) no-repeat;color:rgb(var(--gray));text-align:center}.social-links[data-astro-cid-sz7xmlte]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]:hover{color:rgb(var(--gray-dark))}main[data-astro-cid-bvzihdzo]{width:calc(100% - 2em);max-width:100%;margin:0}.hero-image[data-astro-cid-bvzihdzo]{width:100%}.hero-image[data-astro-cid-bvzihdzo] img[data-astro-cid-bvzihdzo]{display:block;margin:0 auto;border-radius:12px;box-shadow:var(--box-shadow)}.prose[data-astro-cid-bvzihdzo]{width:720px;max-width:calc(100% - 2em);margin:auto;padding:1em;color:rgb(var(--gray-dark))}.title[data-astro-cid-bvzihdzo]{margin-bottom:1em;padding:1em 0;text-align:center;line-height:1}.title[data-astro-cid-bvzihdzo] h1[data-astro-cid-bvzihdzo]{margin:0 0 .5em}.date[data-astro-cid-bvzihdzo]{margin-bottom:.5em;color:rgb(var(--gray))}.last-updated-on[data-astro-cid-bvzihdzo]{font-style:italic}
[data-astro-image]{width:100%;height:auto;object-fit:var(--fit);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}
</style></head> <body data-astro-cid-bvzihdzo> <nav class="top"> <div class="links"> <a class="nav-link nav-item" href="/">Home</a> <a class="nav-link nav-item" href="/about.html">About</a> </div> </nav> <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="hero-image" data-astro-cid-bvzihdzo>  </div> <div class="prose" data-astro-cid-bvzihdzo> <div class="title" data-astro-cid-bvzihdzo> <div class="date" data-astro-cid-bvzihdzo> <time datetime="2015-08-29T17:06:00.000Z"> Aug 30, 2015 </time>  </div> <h1 data-astro-cid-bvzihdzo>Irrlicht Newton GD tutorial: prepare to add some Newtonianity</h1> <hr data-astro-cid-bvzihdzo> </div>  <p>At this point we have an application with</p>
<ul>
<li><strong>1x Ninja</strong>, walking around</li>
<li><strong>1x sphere</strong>, hanging in the center of the screen</li>
<li><strong>1x cube</strong>, flying around the sphere</li>
</ul>
<p>That’s our “game”? Doubtely… So let’s make things move like in real world! Or just like that…</p>
<h2 id="requirements">Requirements</h2>
<p>First of all, <a href="https://github.com/MADEAPPS/newton-dynamics/archive/newton-3.13.zip"><strong>go and get</strong></a> the
Newton GD files. And unpack it… right to the <code>source</code> directory of our project! That’s right!
I’m not insane and I’m aware you are going to put <strong>a lot</strong> of files in your project. But have no
fear - you may always add them to <code>.gitignore</code> and skip them from being tracked in your Git repo:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>source/newton-dynamics-master/applications</span></span>
<span class="line"><span>source/newton-dynamics-master/packages/projects</span></span>
<span class="line"><span>source/newton-dynamics-master/packages/thirdParty</span></span>
<span class="line"><span>source/newton-dynamics-master/coreLibrary_300/projects</span></span>
<span class="line"><span></span></span></code></pre>
<p>You are using Git, right?.. Now, you place the Newton GD sources in your project directory and change
your <code>CMakeLists.txt</code> file to look like this:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">cmake_minimum_required</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">VERSION</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> 3.1)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">project</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(irrlicht_newton_game1)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">CMAKE_CXX_FLAGS</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "${CMAKE_CXX_FLAGS} -std=c++11"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">option</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"NEWTON_DEMOS_SANDBOX"</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "Build demos sandbox"</span><span style="color:#D73A49;--shiki-dark:#F97583"> OFF</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(NEWTONGD_PATH source/newton-dynamics-master)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(NEWTONGD_INCLUDE_DIRS</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${NEWTONGD_PATH}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/packages/dCustomJoints</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${NEWTONGD_PATH}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/packages/dContainers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${NEWTONGD_PATH}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/packages/dMath</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(NEWTON_LIBRARIES Newton dMath)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">add_subdirectory</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">${NEWTONGD_PATH}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">find_package</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(X11)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">find_package</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(OpenGL)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">find_package</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(ZLIB)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">NOT</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> IRRLICHT_LIBRARY_PATH)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    find_library</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(IRRLICHT_LIBRARY_PATH</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">            NAMES</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> Irrlicht</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">            PATHS</span><span style="color:#D73A49;--shiki-dark:#F97583"> ${IRRLICHT_PATH}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/lib/</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">            PATH_SUFFIXES Linux MacOSX </span><span style="color:#005CC5;--shiki-dark:#79B8FF">Win32</span><span style="color:#24292E;--shiki-dark:#E1E4E8">-gcc </span><span style="color:#005CC5;--shiki-dark:#79B8FF">Win32</span><span style="color:#24292E;--shiki-dark:#E1E4E8">-visualstudio Win64-visualstudio)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    message</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(STATUS </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"Found Irrlicht: ${IRRLICHT_LIBRARY_PATH}"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">endif</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">include_directories</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">${IRRLICHT_PATH}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/include </span><span style="color:#D73A49;--shiki-dark:#F97583">${NEWTONGD_INCLUDE_DIRS}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(SOURCE_FILES source/main.cpp)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(EXECUTABLE_NAME irrlicht_newton_game1)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">add_executable</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">${EXECUTABLE_NAME}</span><span style="color:#D73A49;--shiki-dark:#F97583"> ${SOURCE_FILES}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">${EXECUTABLE_NAME}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${NEWTON_LIBRARIES}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${IRRLICHT_LIBRARY_PATH}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${X11_LIBRARIES}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${OPENGL_LIBRARIES}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${ZLIB_LIBRARIES}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        ${X11_Xxf86vm_LIB}</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<p>Try to compile your project - it should be just fine. And observe the power of CMake!</p>
<!--more-->
<h2 id="gravity">Gravity</h2>
<p>Let’s start modifying our Irrlicht sample application. First of all, we will add some Newton headers:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">#include</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "newton-dynamics-master/coreLibrary_300/source/newton/Newton.h"</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">#include</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "newton-dynamics-master/packages/dMath/dVector.h"</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">#include</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "newton-dynamics-master/packages/dMath/dMatrix.h"</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">#include</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "newton-dynamics-master/packages/dMath/dQuaternion.h"</span></span>
<span class="line"></span></code></pre>
<p>The basic thing in the whole Newton GD library is <code>NewtonWorld</code>. That is what it means - the world, where
all the physics happen. It is something different from where we place our 3D models. And that should be
obvious - graphics are managed by Irrlicht and physics - by Newton. Those are totally different libraries.
So we need to tie those two so that graphics correspond to what happens in <em>physical</em> world.</p>
<p>First of all, we need to have a variable for our <code>NewtonWorld</code>. And since physics are handled by scripts too,
we need to have that variable close to our other objects - in the <code>ScriptManager</code> class.</p>
<p>There are two functions we need to bind to our <code>NewtonBody</code>:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">static</span><span style="color:#D73A49;--shiki-dark:#F97583"> void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> transformCallback</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> NewtonBody</span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#E36209;--shiki-dark:#FFAB70"> body</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> dFloat</span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#E36209;--shiki-dark:#FFAB70"> matrix</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">int</span><span style="color:#E36209;--shiki-dark:#FFAB70"> threadIndex</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">    // update ISceneNode so that it is in the same position and rotation as the NewtonBody</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">static</span><span style="color:#D73A49;--shiki-dark:#F97583"> void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> applyForceAndTorqueCallback</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> NewtonBody</span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#E36209;--shiki-dark:#FFAB70"> body</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0">dFloat</span><span style="color:#E36209;--shiki-dark:#FFAB70"> timestep</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">int</span><span style="color:#E36209;--shiki-dark:#FFAB70"> threadIndex</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">    // just add gravity to our body</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    dFloat Ixx, Iyy, Izz;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    dFloat mass;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    NewtonBodyGetMassMatrix</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(body, </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8">mass, </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8">Ixx, </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8">Iyy, </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8">Izz);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    dVector </span><span style="color:#6F42C1;--shiki-dark:#B392F0">gravityForce</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">0.0</span><span style="color:#D73A49;--shiki-dark:#F97583">f</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, mass </span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#D73A49;--shiki-dark:#F97583"> -</span><span style="color:#005CC5;--shiki-dark:#79B8FF">9.8</span><span style="color:#D73A49;--shiki-dark:#F97583">f</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">0.0</span><span style="color:#D73A49;--shiki-dark:#F97583">f</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1.0</span><span style="color:#D73A49;--shiki-dark:#F97583">f</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    NewtonBodySetForce</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(body, </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8">gravityForce[</span><span style="color:#005CC5;--shiki-dark:#79B8FF">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8">]);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>The first one, <code>transformCallback</code>, is called whenever body changes its transform -
e. g. either position or rotation. This is a good place to synchronize our Irrlicht meshes’
positions with their Newton bodies.</p>
<p>The <code>applyForceAndTorqueCallback</code> function is called on each <code>NewtonUpdate</code> to set the final
forces and torques for bodies. We will modify this one later, but for now its implementation
is just good.</p>
<p>But what’s with that <code>NewtonUpdate</code>? This is a function, which does as it says: it
updates <code>NewtonWorld</code> and all its bodies, taking into account the time since the
last update. This function call has one great candidate to be placed into: <code>handleFrame</code>.
But we need to modify that method to receive the time since the last frame been rendered
and we will use this time to update <code>NewtonWorld</code> too.</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> updatePhysics</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">float</span><span style="color:#E36209;--shiki-dark:#FFAB70"> dt</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">         NewtonUpdate</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(newtonWorld, dt);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> handleFrame</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">float</span><span style="color:#E36209;--shiki-dark:#FFAB70"> dt</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        auto</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> handler </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> luaState.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">GetGlobalEnvironment</span><span style="color:#24292E;--shiki-dark:#E1E4E8">().Get</span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="color:#24292E;--shiki-dark:#E1E4E8">LuaFunction</span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;void</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">void</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">>></span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"handleFrame"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">        updatePhysics</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(dt);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">        setKeyStates</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        handler.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">Invoke</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"></span></code></pre>
<p>Remember about architecture: everything, what needs to be exposed to our scripts should be
declared as <code>public</code> in our <code>ScriptManager</code>. Everything else - as <code>protected</code> or <code>private</code>.
This is the basic principle of <em>encapsulation</em>, so let’s keep it in our application.</p>
<p>And update the main application loop:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">while</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (device-></span><span style="color:#6F42C1;--shiki-dark:#B392F0">run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">    // Work out a frame delta time.</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    const</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> u32 now </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> device-></span><span style="color:#6F42C1;--shiki-dark:#B392F0">getTimer</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()-></span><span style="color:#6F42C1;--shiki-dark:#B392F0">getTime</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    const</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> f32 frameDeltaTime </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (f32) (now </span><span style="color:#D73A49;--shiki-dark:#F97583">-</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> then);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    then </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> now;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">    // ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    scriptMgr-></span><span style="color:#6F42C1;--shiki-dark:#B392F0">handleFrame</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(frameDeltaTime);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">    // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Hint:</strong> to make simulation slower and so watch ball falling in detail, make the
<code>NewtonUpdate</code> argument even smaller. Thousand times, say.</p>
<p>Since we have initialization for our Newton stuff, we need to clean it up at the exit
to prevent memory leaks. Let’s declare a method for that:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> stopPhysics</span><span style="color:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">        NewtonDestroyAllBodies</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(newtonWorld);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">        NewtonDestroy</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(newtonWorld);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"></span></code></pre>
<p>And call it right before the program’s end:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">device-></span><span style="color:#6F42C1;--shiki-dark:#B392F0">drop</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">scriptMgr-></span><span style="color:#6F42C1;--shiki-dark:#B392F0">handleExit</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">delete</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> scriptMgr;</span></span>
<span class="line"></span></code></pre>
<p>And now is the right moment to add key codes’ definitions and exit function to our
<code>ScriptManager</code> so that we could write more clear code and close our application
correctly, using, say, <kbd>Esc</kbd> key.</p>
<p>To stop our application, we need to break our <code>while (device->run())</code> loop. This could be
achieved by simply closing the <code>IrrlichtDevice</code> with <code>device->closeDevice()</code>. But we
do not have an access to the device from the <code>ScriptManager</code>. So let’s add it as a
constructor argument:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">private:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    irr</span><span style="color:#24292E;--shiki-dark:#E1E4E8">::IrrlichtDevice </span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#24292E;--shiki-dark:#E1E4E8">device;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    ScriptManager</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">irr</span><span style="color:#24292E;--shiki-dark:#E1E4E8">::IrrlichtDevice </span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#24292E;--shiki-dark:#E1E4E8">_device, </span><span style="color:#6F42C1;--shiki-dark:#B392F0">scene</span><span style="color:#24292E;--shiki-dark:#E1E4E8">::ISceneManager </span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#24292E;--shiki-dark:#E1E4E8">_smgr, </span><span style="color:#6F42C1;--shiki-dark:#B392F0">video</span><span style="color:#24292E;--shiki-dark:#E1E4E8">::IVideoDriver </span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#24292E;--shiki-dark:#E1E4E8">_driver) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        driver </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> _driver;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        smgr </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> _smgr;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        device </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> _device;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">        initPhysics</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"></span></code></pre>
<p>So now we can create a function, exposed to our scripts, which will stop our application:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> exit</span><span style="color:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    device-></span><span style="color:#6F42C1;--shiki-dark:#B392F0">closeDevice</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>And bind it to the Lua function:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">auto</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> exitFn </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> luaState.CreateFunction</span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;void</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">void</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">></span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">                [</span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8">]() -> </span><span style="color:#D73A49;--shiki-dark:#F97583">void</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="color:#6F42C1;--shiki-dark:#B392F0">exit</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(); });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">global.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">Set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"exit"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, exitFn);</span></span>
<span class="line"></span></code></pre>
<p>Now we can use our <code>exit</code> function in the Lua scripts. But we will need to use hexadecimal
key codes and that’s… ugly. So we need to define some symbolic names for those codes:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> setGlobalVariables</span><span style="color:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    setKeyStates</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    setKeyCodeConstants</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">void</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> setKeyCodeConstants</span><span style="color:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    std</span><span style="color:#24292E;--shiki-dark:#E1E4E8">::map</span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#B392F0">std</span><span style="color:#24292E;--shiki-dark:#E1E4E8">::string, </span><span style="color:#D73A49;--shiki-dark:#F97583">int></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> keyMapping </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_LBUTTON"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">01</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Left mouse button</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_RBUTTON"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">02</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Right mouse button</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_CANCEL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">03</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Control-break processing</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_MBUTTON"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">04</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Middle mouse button (three-button mouse)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_XBUTTON1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">05</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Windows 2000/XP: X1 mouse button</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_XBUTTON2"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">06</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Windows 2000/XP: X2 mouse button</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_BACK"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">08</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // BACKSPACE key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_TAB"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">09</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // TAB key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_CLEAR"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">0C</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // CLEAR key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_RETURN"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">0D</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // ENTER key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SHIFT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">10</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // SHIFT key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_CONTROL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">11</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // CTRL key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_MENU"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">12</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // ALT key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_PAUSE"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">13</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // PAUSE key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_CAPITAL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">14</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // CAPS LOCK key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KANA"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">15</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME Kana mode</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_HANGUEL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">15</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME Hanguel mode (maintained for compatibility use KEY_HANGUL)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_HANGUL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">15</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME Hangul mode</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_JUNJA"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">17</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME Junja mode</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_FINAL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">18</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME final mode</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_HANJA"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">19</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME Hanja mode</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KANJI"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">19</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME Kanji mode</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_ESCAPE"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1B</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // ESC key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_CONVERT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1C</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME convert</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NONCONVERT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1D</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME nonconvert</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_ACCEPT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1E</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME accept</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_MODECHANGE"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1F</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // IME mode change request</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SPACE"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">20</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // SPACEBAR</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_PRIOR"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">21</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // PAGE UP key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NEXT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">22</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // PAGE DOWN key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_END"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">23</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // END key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_HOME"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">24</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // HOME key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_LEFT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">25</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // LEFT ARROW key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_UP"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">26</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // UP ARROW key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_RIGHT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">27</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // RIGHT ARROW key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_DOWN"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">28</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // DOWN ARROW key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SELECT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">29</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // SELECT key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_PRINT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">2A</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // PRINT key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_EXECUT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">2B</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // EXECUTE key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SNAPSHOT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">2C</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // PRINT SCREEN key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_INSERT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">2D</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // INS key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_DELETE"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">2E</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // DEL key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_HELP"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">2F</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // HELP key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_0"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">30</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 0 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">31</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 1 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_2"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">32</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 2 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_3"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">33</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 3 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_4"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">34</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 4 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_5"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">35</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 5 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_6"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">36</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 6 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_7"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">37</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 7 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_8"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">38</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 8 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_9"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">39</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // 9 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_A"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">41</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // A key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_B"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">42</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // B key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_C"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">43</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // C key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_D"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">44</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // D key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_E"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">45</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // E key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_F"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">46</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_G"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">47</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // G key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_H"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">48</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // H key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_I"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">49</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // I key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_J"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4A</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // J key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_K"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4B</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // K key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_L"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4C</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // L key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_M"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4D</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // M key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_N"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4E</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // N key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_O"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4F</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // O key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_P"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">50</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // P key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_Q"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">51</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Q key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_R"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">52</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // R key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_S"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">53</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // S key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_T"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">54</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // T key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_U"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">55</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // U key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_V"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">56</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // V key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_W"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">57</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // W key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_X"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">58</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // X key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_Y"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">59</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Y key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_KEY_Z"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5A</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Z key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_LWIN"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5B</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Left Windows key (Microsoft Natural keyboard)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_RWIN"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5C</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Right Windows key (Natural keyboard)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_APPS"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5D</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Applications key (Natural keyboard)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SLEEP"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5F</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Computer Sleep key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD0"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">60</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 0 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">61</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 1 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD2"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">62</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 2 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD3"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">63</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 3 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD4"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">64</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 4 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD5"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">65</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 5 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD6"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">66</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 6 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD7"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">67</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 7 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD8"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">68</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 8 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMPAD9"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">69</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Numeric keypad 9 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_MULTIPLY"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">6A</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Multiply key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_ADD"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">6B</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Add key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SEPARATOR"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">6C</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Separator key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SUBTRACT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">6D</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Subtract key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_DECIMAL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">6E</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Decimal key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_DIVIDE"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">6F</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Divide key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">70</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F1 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F2"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">71</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F2 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F3"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">72</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F3 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F4"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">73</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F4 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F5"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">74</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F5 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F6"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">75</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F6 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F7"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">76</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F7 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F8"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">77</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F8 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F9"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">78</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F9 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F10"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">79</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F10 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F11"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">7A</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F11 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F12"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">7B</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F12 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F13"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">7C</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F13 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F14"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">7D</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F14 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F15"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">7E</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F15 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F16"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">7F</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F16 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F17"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">80</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F17 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F18"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">81</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F18 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F19"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">82</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F19 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F20"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">83</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F20 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F21"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">84</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F21 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F22"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">85</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F22 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F23"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">86</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F23 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_F24"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">87</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // F24 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_NUMLOCK"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">90</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // NUM LOCK key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_SCROLL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">91</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // SCROLL LOCK key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_LSHIFT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">A0</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Left SHIFT key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_RSHIFT"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">A1</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Right SHIFT key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_LCONTROL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">A2</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Left CONTROL key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_RCONTROL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">A3</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Right CONTROL key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_LMENU"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">A4</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Left MENU key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_RMENU"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">A5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Right MENU key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">BA</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for US    ";:"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_PLUS"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">BB</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Plus Key   "+"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_COMMA"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">BC</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Comma Key  ","</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_MINUS"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">BD</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Minus Key  "-"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_PERIOD"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">BE</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Period Key "."</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_2"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">BF</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for US    "/?"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_3"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">C0</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for US    "`~"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_4"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">DB</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for US    "[{"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_5"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">DC</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for US    "\|"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_6"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">DD</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for US    "]}"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_7"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">DE</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for US    "'""</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_8"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">DF</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // None</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_AX"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">E1</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // for Japan "AX"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_102"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">E2</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // "&#x3C;>" or "\|"</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_ATTN"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">F6</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Attn key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_CRSEL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">F7</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // CrSel key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_EXSEL"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">F8</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // ExSel key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_EREOF"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">F9</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Erase EOF key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_PLAY"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">FA</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Play key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_ZOOM"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">FB</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Zoom key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_PA1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">FD</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // PA1 key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"KEY_OEM_CLEAR"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">0x</span><span style="color:#005CC5;--shiki-dark:#79B8FF">FE</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span><span style="color:#6A737D;--shiki-dark:#6A737D"> // Clear key</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">auto</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> it </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> keyMapping.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">begin</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(); it </span><span style="color:#D73A49;--shiki-dark:#F97583">!=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> keyMapping.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">end</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(); </span><span style="color:#D73A49;--shiki-dark:#F97583">++</span><span style="color:#24292E;--shiki-dark:#E1E4E8">it) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        luaState.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">GetGlobalEnvironment</span><span style="color:#24292E;--shiki-dark:#E1E4E8">().</span><span style="color:#6F42C1;--shiki-dark:#B392F0">Set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(it->first, it->second);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>Now we can create a <kbd>Esc</kbd> key handler in our script:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="lua"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">function</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> handleFrame</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">    -- Esc</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> KEY_STATE[KEY_ESCAPE] </span><span style="color:#D73A49;--shiki-dark:#F97583">==</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="color:#D73A49;--shiki-dark:#F97583"> then</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">        exit</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    end</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">end</span></span>
<span class="line"></span></code></pre>
<p>Now we are ready to create our first Newton bodies. Bodies are some invisible objects,
which define how our Irrlicht meshes will behave (e. g. where they will be placed,
how they will interact when moving, etc.). Basically, there are two types of bodies:</p>
<ol>
<li><strong>dynamic</strong>, whose movement is determined by the forces, applied to them</li>
<li><strong>kinematic</strong>, which are controlled by setting their velocities</li>
</ol>
<p>Those two kinds of bodies are totally different, so the interactions between them
are not pre-defined. So when your dynamic body will fall onto a kinematic one, it will
fall through.</p>
<p>And each body has its shape, which determines behaviour of the body, when it collides others
and the collision detection itself, of course. Shapes could be <strong>convex</strong> or <strong>concave</strong>.
Convex shapes are easier to work with <em>(on the level of physics simulation)</em>, but not all the
bodies in practice are convex. For example, levels are oftenly concave. So they need their special
shapes, which are called <code>Triangle Mesh</code>.</p>
<p><strong>Note:</strong> to keep the performance of your application high, try to minimalize the use of
triangle meshes and use as simple shapes, as possible. Sometimes it is more effective to
combine a set of primitive shapes, like spheres, cylinders and boxes into one <strong>compound</strong>
shape, then to use a trimesh.</p>
<p>Let’s create our first simple scene, empowered with physics! We will need only two things:</p>
<ol>
<li>a sphere</li>
<li>the floor</li>
</ol>
<p>Since we do not have the good mesh in standard Irrlicht distribution for the floor
<em>(there is a Quake-like level, but that is too much for our case)</em>, we will learn how
to make that simple thing in Blender. The next part is a short break between coding
sessions.</p>
<p><a href="/irrlicht-newton-tutorials/2015/12/15/making-simple-level-with-blender.html" class="btn btn-success">Next chapter</a></p>  </div> </article> </main> <footer data-astro-cid-sz7xmlte>
&copy; 2024 Your name here. All rights reserved.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://m.webtoo.ls/@astro" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Follow Astro on Mastodon</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/mastodon" data-astro-cid-sz7xmlte><path fill="currentColor" d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://twitter.com/astrodotbuild" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Follow Astro on Twitter</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/twitter" data-astro-cid-sz7xmlte><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://github.com/withastro/astro" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Go to Astro's GitHub repo</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" data-astro-cid-sz7xmlte><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  </body></html>