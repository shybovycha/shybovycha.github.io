<meta name="layout" content="post">
<meta name="title" content="Abstract classes vs interfaces">
<meta name="date" content="2015-02-03T20:31:41+01:00">
<meta name="tags" content="java,rtfm,tutorial">
<meta name="tumblr_url" content="http://shybovycha.tumblr.com/post/109996204061/abstract-classes-vs-interfaces">
<p>Lately I was a few times asked a question <u>&quot;what do we need abstract classes for?&quot;</u></p>

<p>And today I&#39;ve got one more question, which inspired me to write this.</p>

<!--more-->

<p>Let us have a task to write an application, which will perform some simple arithmetic operations on numbers, represented in a different numeric systems.</p>

<p>For example, our program should be able to <strong>add</strong> numbers in <strong>roman</strong>, <strong>arabic</strong> and <strong>hexadecimal</strong> systems. But later we should be able to add more operations, like <strong>division</strong>, <strong>multiplication</strong> and <strong>subtraction</strong>.</p>

<p>This is where an <strong>abstract class</strong> comes to help us!</p>

<p>Rather than write an <strong>interface</strong> <code>Number</code>, which will define the addition operator and then implementing it for each class like <code>RomanNumber</code> and <code>HexadecimalNumber</code> we will better use an <strong>abstract class</strong>, which will be able to add decimal numbers and will declare abstract method to convert number itself to decimal system.</p>

<p>Take a look:</p>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">INumber</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">INumber</span> <span class="nf">add</span><span class="o">(</span><span class="nc">INumber</span> <span class="n">other</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RomanNumber</span> <span class="kd">implements</span> <span class="nc">INumber</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">RomanNumber</span> <span class="nf">add</span><span class="o">(</span><span class="nc">INumber</span> <span class="n">other</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// when `other` is not a RomanNumber</span>
        <span class="c1">// convert other to RomanNumber</span>
        <span class="c1">// add `other` to `this`</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HexadecimalNumber</span> <span class="kd">implements</span> <span class="nc">INumber</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">HexadecimalNumber</span> <span class="nf">add</span><span class="o">(</span><span class="nc">INumber</span> <span class="n">other</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// convert other to HexadecimalNumber and add...</span>
    <span class="o">}</span>
<span class="o">}</span>

<p>...and compare it to this:</p>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Number</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">Integer</span> <span class="nf">toDecimal</span><span class="o">();</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">Number</span> <span class="nf">fromDecimal</span><span class="o">(</span><span class="nc">Integer</span><span class="o">);</span>

    <span class="kd">public</span> <span class="nc">Number</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Number</span> <span class="n">other</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">returh</span> <span class="nf">fromDecimal</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">toDecimal</span><span class="o">()</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="na">toDecimal</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RomanNumber</span> <span class="kd">extends</span> <span class="nc">Number</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">toDecimal</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// convert `this` to Integer</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">RomanNumber</span> <span class="nf">fromDecimal</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// convert `n` to RomanNumber</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HexadecimalNumber</span> <span class="kd">extends</span> <span class="nc">Number</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">toDecimal</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// convert `this` to Integer</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">HexadecimalNumber</span> <span class="nf">fromDecimal</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// convert `n` to HexadecimalNumber</span>
    <span class="o">}</span>
<span class="o">}</span>

<p>This is how we can create an abstraction: we can add or perform any other arithmetic operations regardless on which numeric system we use!</p>

<p>Wneh we declare an <strong>interface</strong>, we can&#39;t tell how to create an object, implementing that interface. E. g., we can not define even a default constructor.</p>

<p>Thus, when we need to have at least one constructor of a defined signature, we must use <strong>abstract classes</strong>.</p>

<p>Check it out:</p>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">IVector</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">Vector</span><span class="o">();</span> <span class="c1">// something like a default constructror</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vector2d</span> <span class="kd">implements</span> <span class="nc">IVector</span> <span class="o">{</span>
    <span class="c1">// THIS IS NOT A CONSTRUCTOR!</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">Vector</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
<span class="o">}</span>

<p>and compare it to this:</p>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">BaseVector</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="nf">BaseVector</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vector2d</span> <span class="kd">extends</span> <span class="nc">BaseVector</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">Vector2d</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// now it DOES HAVE a default constructor</span>
        <span class="kd">super</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
