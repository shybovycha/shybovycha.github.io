<meta name="layout" content="post">
<meta name="title" content="Partial application vs currying">
<meta name="date" content="2019-03-20T14:18:56+10:00">
<meta name="tags" content="functional programming,programming">
<p>Here&#39;s a quick explanation of the difference between <strong>currying</strong> and <strong>partial application</strong>.</p>

<p>For a one- or two-argument functions there is little to none difference. But for function with multiple arguments...</p>

<p>Say you have a function <code>f(a1, a2, a3, a4)</code> (it does not really matter what it returns or what the arguments are):</p>

<ul>
<li><p><em>currying</em> it will give you a function of one argument, which will return a function of one argument (and so on and so forth), calling which (the last one-argument function) will give you same result as calling the original function <code>f</code> with all the arguments of single-argument functions passed at once <em>(curried)</em>: <code>curry(f) = f1(x1) =&gt; f2(x2) =&gt; f3(x3) =&gt; f4(x4) === f(x1, x2, x3, x4)</code></p></li>
<li><p><em>partially applying</em> a function <em>to some N values</em> will give you a function of smaller amount of arguments, where the first <em>N</em> arguments are already defined: <code>papply(f, 1, 17) =&gt; f1(x3, x4) === f(1, 17, x3, x4)</code></p></li>
</ul>

<p>In Javascript, the two could be implemented like this:</p>
<span class="kd">function</span> <span class="nx">curry</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">curry</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">currySub</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Surprisingly, `fn.length` returns the number of arguments of a function `fn`</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">currySub</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">concat</span><span class="p">([</span> <span class="nx">x</span> <span class="p">]));</span>
            <span class="p">};</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">currySub</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="p">[]);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">papply</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">args0</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">arguments</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

    <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">args1</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>

        <span class="kd">const</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">args0</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">args1</span><span class="p">);</span>

        <span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
